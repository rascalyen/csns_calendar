<?xml version="1.0"?>

<!DOCTYPE beans PUBLIC
                "-//SPRING//DTD BEAN//EN"
                "http://www.springframework.org/dtd/spring-beans.dtd">
<beans>

    <!--==============-->
    <!-- url mappings -->
    <!--==============-->

    <bean id="urlMapping0"
        class="org.springframework.web.servlet.handler.SimpleUrlHandlerMapping">
        <property name="order" value="0" />
        <property name="alwaysUseFullPath" value="true" />
        <property name="interceptors">
            <list>
                <ref bean="openSessionInViewInterceptor" />
                <ref bean="logRequestInterceptor" />
            </list>
        </property>
        <property name="mappings">
            <props>
                <prop key="/index.html">news</prop>
                <prop key="/news.html">news</prop>
                <prop key="/home.html">home</prop>
                <prop key="/login.html">login</prop>
                <prop key="/logout.html">logout</prop>
                <prop key="/contact.html">contact</prop>
                <prop key="/download.html">download</prop>
                <prop key="/account.html">account</prop>
                <prop key="/register.html">register</prop>
                <prop key="/resetPassword.html">resetPassword</prop>
                <prop key="/email.html">email</prop>
                <prop key="/courses.html">courses</prop>
                <prop key="/projects.html">projects</prop>
                <prop key="/surveys.html">surveys</prop>
                <prop key="/takeSurvey.html">takeSurvey</prop>
                <prop key="/subscribe.html">subscribe</prop>
                <prop key="/unsubscribe.html">unsubscribe</prop>
                <prop key="/doc/**/*.html">documentation</prop>
                <prop key="/wiki/content/**">wiki</prop>
            </props>
        </property>
    </bean>

    <bean id="urlMapping1"
        class="org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping">
        <property name="order" value="1" />
        <property name="interceptors">
            <list>
                <ref bean="openSessionInViewInterceptor" />
                <ref bean="logRequestInterceptor" />
            </list>
        </property>
    </bean>
    
    
    <!--============-->    
    <!--  Calendar  -->
    <!--============-->    

    <bean name="/calendar.html" class="csns.spring.controller.calendar.CalendarController">
        <property name="taskDao" ref="taskDao" />
        <property name="eventDao" ref="eventDao" />
        <property name="userDao" ref="userDao" />
    </bean>
    
    <bean name="/viewEvent.html" class="csns.spring.controller.calendar.ViewEventController">
        <property name="eventDao" ref="eventDao" />
    </bean>
    
    <bean id="eventValidator" class="csns.spring.validator.EventValidator" />
    
    <bean name="/addEvent.html" class="csns.spring.controller.calendar.AddEventController">
        <property name="commandName" value="event" />
        <property name="commandClass" value="csns.model.calendar.Event" />
        <property name="formView" value="calendar/addEvent" />
        <property name="eventDao" ref="eventDao" />
        <property name="userDao" ref="userDao" />
        <property name="validator" ref="eventValidator" />
    </bean>  
    
    <bean name="/editEvent.html" class="csns.spring.controller.calendar.EditEventController">
        <property name="commandName" value="event" />
        <property name="commandClass" value="csns.model.calendar.Event" />
        <property name="formView" value="calendar/editEvent" />
        <property name="eventDao" ref="eventDao" />
        <property name="validator" ref="eventValidator" />
    </bean>     
    
    <bean name="/deleteEvent.html" class="csns.spring.controller.calendar.DeleteEventController">
        <property name="eventDao" ref="eventDao" />
    </bean>        
    
    <bean name="/uploadEventFiles.html"
        class="csns.spring.controller.calendar.UploadEventFilesController">
        <property name="eventDao" ref="eventDao" />
        <property name="fileDao" ref="fileDao" />
        <property name="userDao" ref="userDao" />
        <property name="fileBaseDir" value="@file.base.dir@" />
    </bean>   
    
    <bean name="/downloadEventZip.html"
        class="csns.spring.controller.calendar.DownloadEventZipController">
        <property name="userDao" ref="userDao" />
        <property name="eventDao" ref="eventDao" />
        <property name="fileBaseDir" value="@file.base.dir@" />
    </bean>    
    
    <bean name="/searchEvents.html"
        class="csns.spring.controller.calendar.SearchEventsController">
        <property name="userDao" ref="userDao" />
        <property name="eventDao" ref="eventDao" />
    </bean>
    
    <bean name="/addTask.html" class="csns.spring.controller.calendar.AddTaskController">
        <property name="commandName" value="task" />
        <property name="commandClass" value="csns.model.calendar.Task" />
        <property name="formView" value="calendar/addTask" />
        <property name="taskDao" ref="taskDao" />
        <property name="userDao" ref="userDao" />
    </bean>
    
    <bean name="/markTask.html" class="csns.spring.controller.calendar.MarkTaskController">
        <property name="taskDao" ref="taskDao" />
    </bean>    

    
    <!--================-->
    <!-- view resolvers -->
    <!--================-->

    <bean id="viewResolver"
        class="org.springframework.web.servlet.view.InternalResourceViewResolver">
        <property name="prefix">
            <value>/WEB-INF/jsp/</value>
        </property>
        <property name="suffix">
            <value>.jsp</value>
        </property>
    </bean>

    <!--=======================-->
    <!-- controllers - general -->
    <!--=======================-->

    <bean id="news" class="csns.spring.controller.NewsController">
        <property name="newsDao" ref="newsDao" />
        <property name="userDao" ref="userDao" />
    </bean>

    <bean id="login"
        class="org.springframework.web.servlet.mvc.ParameterizableViewController">
        <property name="viewName" value="login" />
    </bean>

    <bean id="home" class="csns.spring.controller.HomeController">
        <property name="defaultHomeUrl" value="/index.html" />
        <property name="homeUrls">
            <map>
                <entry key="ROLE_GUEST">
                    <value>/index.html</value>
                </entry>
                <entry key="ROLE_STUDENT">
                    <value>/student/home.html</value>
                </entry>
                <entry key="ROLE_INSTRUCTOR">
                    <value>/instructor/home.html</value>
                </entry>
                <entry key="ROLE_ADMIN">
                    <value>/admin/viewSections.html</value>
                </entry>
                <entry key="ROLE_PROGRAM_REVIEWER">
                    <value>/wiki/content/assessment/</value>
                </entry>
                <entry key="ROLE_NEWUSER">
                    <value>/register.html</value>
                </entry>
            </map>
        </property>
        <property name="userDao" ref="userDao" />
    </bean>

    <bean id="account" class="csns.spring.controller.AccountController">
        <property name="commandName" value="userCommand" />
        <property name="commandClass" value="csns.spring.command.UserCommand" />
        <property name="formView" value="account" />
        <property name="successView" value="status" />
        <property name="validator" ref="accountValidator" />
        <property name="userDao" ref="userDao" />
        <property name="passwordEncoder" ref="passwordEncoder" />
    </bean>

    <bean id="register" class="csns.spring.controller.RegisterController">
        <property name="commandName" value="userCommand" />
        <property name="commandClass" value="csns.spring.command.UserCommand" />
        <property name="formView" value="register" />
        <property name="validator" ref="registrationValidator" />
        <property name="roleDao" ref="roleDao" />
        <property name="userDao" ref="userDao" />
        <property name="mailinglistDao" ref="mailinglistDao" />
        <property name="subscriptionDao" ref="subscriptionDao" />
        <property name="passwordEncoder" ref="passwordEncoder" />
        <property name="mailinglistNames">
            <set>
                <value>cs-students</value>
                <value>cs-grads</value>
                <value>cs-undergrads</value>
                <value>csns-users</value>
            </set>
        </property>
    </bean>

    <bean id="resetPassword"
        class="csns.spring.controller.ResetPasswordController">
        <property name="commandName" value="login" />
        <property name="commandClass" value="csns.spring.command.UserCommand" />
        <property name="formView" value="resetPassword" />
        <property name="successView" value="status" />
        <property name="validator" ref="resetPasswordValidator" />
        <property name="userDao" ref="userDao" />
        <property name="passwordEncoder" ref="passwordEncoder" />
        <property name="mailSender" ref="mailSender" />
        <property name="messageTemplate" ref="passwordResetMessage" />
    </bean>

    <bean id="logout" class="csns.spring.controller.LogoutController" />

    <bean id="email" class="csns.spring.controller.EmailController">
        <property name="commandName" value="email" />
        <property name="commandClass" value="csns.model.Email" />
        <property name="sessionForm" value="true" />
        <property name="formView" value="email" />
        <property name="validator" ref="messageValidator" />
        <property name="userDao" ref="userDao" />
        <property name="fileDao" ref="fileDao" />
        <property name="fileBaseDir" value="@file.base.dir@" />
        <property name="filePublic" value="true" />
        <property name="mailSender" ref="mailSender" />
        <property name="emailTemplate" ref="genericEmailTemplate" />
    </bean>

    <bean id="contact"
        class="org.springframework.web.servlet.mvc.ParameterizableViewController">
        <property name="viewName" value="contact" />
    </bean>

    <bean id="download" class="csns.spring.controller.DownloadController">
        <property name="mimeTyper" ref="mimeTyper" />
        <property name="fileDao" ref="fileDao" />
        <property name="fileBaseDir" value="@file.base.dir@" />
    </bean>

    <bean id="courses" class="csns.spring.controller.CoursesController">
        <property name="userDao" ref="userDao" />
        <property name="courseDao" ref="courseDao" />
    </bean>

    <bean id="projects" class="csns.spring.controller.ProjectsController">
        <property name="downloadUrl" value="@app.url@/download.html" />
        <property name="courseDao" ref="courseDao" />
        <property name="quarterDao" ref="quarterDao" />
        <property name="sectionDao" ref="sectionDao" />
    </bean>

    <bean id="surveys" class="csns.spring.controller.SurveysController">
        <property name="surveyDao" ref="surveyDao" />
    </bean>

    <bean id="takeSurvey" class="csns.spring.controller.TakeSurveyController">
        <property name="commandName" value="answerSheet" />
        <property name="commandClass" value="csns.model.qa.AnswerSheet" />
        <property name="sessionForm" value="true" />
        <property name="validator" ref="answerSheetValidator" />
        <property name="surveyDao" ref="surveyDao" />
        <property name="surveyResponseDao" ref="surveyResponseDao" />
        <property name="answerSheetDao" ref="answerSheetDao" />
        <property name="userDao" ref="userDao" />
    </bean>

    <bean id="subscribe" class="csns.spring.controller.SubscribeController">
        <property name="subscribableDao" ref="subscribableDao" />
        <property name="subscriptionDao" ref="subscriptionDao" />
        <property name="userDao" ref="userDao" />
    </bean>

    <bean id="unsubscribe"
        class="csns.spring.controller.UnsubscribeController">
        <property name="subscribableDao" ref="subscribableDao" />
        <property name="subscriptionDao" ref="subscriptionDao" />
        <property name="userDao" ref="userDao" />
    </bean>

    <bean id="documentation"
        class="org.springframework.web.servlet.mvc.UrlFilenameViewController">
        <property name="prefix" value="doc/" />
    </bean>

    <bean id="wiki"
        class="csns.spring.controller.wiki.ViewPageController">
        <property name="userDao" ref="userDao" />
        <property name="revisionDao" ref="revisionDao" />
        <property name="subscriptionDao" ref="subscriptionDao" />
    </bean>

    <bean name="/generateCin.html"
        class="csns.spring.controller.GenerateCinController">
        <property name="generatedCinDao" ref="generatedCinDao" />
    </bean>

    <!--====================-->
    <!-- controllers - user -->
    <!--====================-->

    <bean name="/user/searchUsers.html"
        class="csns.spring.controller.user.SearchUsersController">
        <property name="userDao" ref="userDao" />
    </bean>

    <bean name="/user/addUser.html"
        class="csns.spring.controller.user.AddUserController">
        <property name="commandName" value="userCommand" />
        <property name="commandClass" value="csns.spring.command.UserCommand" />
        <property name="formView" value="user/addUser" />
        <property name="validator" ref="accountValidator" />
        <property name="userDao" ref="userDao" />
        <property name="roleDao" ref="roleDao" />
        <property name="passwordEncoder" ref="passwordEncoder" />
    </bean>

    <bean name="/user/importUsers.html"
        class="csns.spring.controller.user.ImportUsersController">
        <property name="commandName" value="importUsersCommand" />
        <property name="commandClass" value="csns.spring.command.ImportUsersCommand" />
        <property name="pages">
            <list>
                <value>user/importUsersForm</value>
                <value>user/importUsersFinish</value>
            </list>
        </property>
        <property name="userDao" ref="userDao" />
        <property name="roleDao" ref="roleDao" />
        <property name="standingDao" ref="standingDao" />
        <property name="academicStandingDao" ref="academicStandingDao" />
        <property name="passwordEncoder" ref="passwordEncoder" />
    </bean>

    <bean name="/user/ajaxSearchUsers.html"
        class="csns.spring.controller.user.AjaxSearchUsersController">
        <property name="userDao" ref="userDao" />
    </bean>

    <bean name="/user/viewAccount.html"
        class="csns.spring.controller.user.ViewAccountController">
        <property name="userDao" ref="userDao" />
    </bean>

    <bean name="/user/editAccount.html" class="csns.spring.controller.user.EditAccountController">
        <property name="commandName" value="userCommand" />
        <property name="commandClass" value="csns.spring.command.UserCommand" />
        <property name="formView" value="user/editAccount" />
        <property name="validator" ref="accountValidator" />
        <property name="userDao" ref="userDao" />
        <property name="roleDao" ref="roleDao" />
        <property name="passwordEncoder" ref="passwordEncoder" />
    </bean>

    <bean name="/user/viewStandings.html"
        class="csns.spring.controller.user.ViewStandingsController">
        <property name="userDao" ref="userDao" />
        <property name="academicStandingDao" ref="academicStandingDao" />
        <property name="standingDao" ref="standingDao" />
    </bean>

    <bean name="/user/editStanding.html"
        class="csns.spring.controller.user.EditStandingController">
        <property name="userDao" ref="userDao" />
        <property name="academicStandingDao" ref="academicStandingDao" />
        <property name="standingDao" ref="standingDao" />
    </bean>

    <bean name="/user/deleteStanding.html"
        class="csns.spring.controller.user.DeleteStandingController">
        <property name="userDao" ref="userDao" />
        <property name="academicStandingDao" ref="academicStandingDao" />
    </bean>

    <bean name="/user/viewCourseWork.html"
        class="csns.spring.controller.user.ViewCourseWorkController">
        <property name="userDao" ref="userDao" />
        <property name="enrollmentDao" ref="enrollmentDao" />
        <property name="courseSubstitutionDao" ref="courseSubstitutionDao" />
        <property name="courseTransferDao" ref="courseTransferDao" />
        <property name="courseWaiverDao" ref="courseWaiverDao" />
    </bean>

    <bean name="/user/addCourseSubstitution.html"
        class="csns.spring.controller.user.AddCourseSubstitutionController">
        <property name="userDao" ref="userDao" />
        <property name="courseDao" ref="courseDao" />
        <property name="courseSubstitutionDao" ref="courseSubstitutionDao" />
    </bean>

    <bean name="/user/addCourseWaiver.html"
        class="csns.spring.controller.user.AddCourseWaiverController">
        <property name="userDao" ref="userDao" />
        <property name="courseDao" ref="courseDao" />
        <property name="courseWaiverDao" ref="courseWaiverDao" />
    </bean>

    <bean name="/user/addCourseTransfer.html"
        class="csns.spring.controller.user.AddCourseTransferController">
        <property name="userDao" ref="userDao" />
        <property name="courseDao" ref="courseDao" />
        <property name="courseTransferDao" ref="courseTransferDao" />
    </bean>

    <bean name="/user/viewAdvisements.html"
        class="csns.spring.controller.user.ViewAdvisementsController">
        <property name="userDao" ref="userDao" />
        <property name="advisementDao" ref="advisementDao" />
    </bean>

    <bean name="/user/addAdvisement.html"
        class="csns.spring.controller.user.AddAdvisementController">
        <property name="userDao" ref="userDao" />
        <property name="advisementDao" ref="advisementDao" />
    </bean>

    <bean name="/user/editAdvisement.html"
        class="csns.spring.controller.user.EditAdvisementController">
        <property name="commandName" value="advisement" />
        <property name="commandClass" value="csns.model.Advisement" />
        <property name="formView" value="user/editAdvisement" />
        <property name="userDao" ref="userDao" />
        <property name="advisementDao" ref="advisementDao" />
    </bean>

    <bean name="/user/emailAdvisement.html"
        class="csns.spring.controller.user.EmailAdvisementController">
        <property name="commandName" value="email" />
        <property name="commandClass" value="csns.model.Email" />
        <property name="formView" value="user/emailAdvisement" />
        <property name="validator" ref="messageValidator" />
        <property name="userDao" ref="userDao" />
        <property name="fileDao" ref="fileDao" />
        <property name="advisementDao" ref="advisementDao" />
        <property name="fileBaseDir" value="@file.base.dir@" />
        <property name="filePublic" value="true" />
        <property name="mailSender" ref="mailSender" />
        <property name="emailTemplate" ref="genericEmailTemplate" />
    </bean>

    <!--=======================-->
    <!-- controllers - student -->
    <!--=======================-->

    <bean name="/student/home.html"
        class="csns.spring.controller.student.ViewSectionsController">
        <property name="viewName" value="student/viewSections" />
        <property name="userDao" ref="userDao" />
        <property name="quarterDao" ref="quarterDao" />
        <property name="sectionDao" ref="sectionDao" />
    </bean>

    <bean name="/student/uploadFiles.html"
        class="csns.spring.controller.student.UploadFilesController">
        <property name="assignmentDao" ref="assignmentDao" />
        <property name="fileDao" ref="fileDao" />
        <property name="userDao" ref="userDao" />
        <property name="fileBaseDir" value="@file.base.dir@" />
    </bean>

    <bean name="/student/downloadZip.html"
        class="csns.spring.controller.student.DownloadZipController">
        <property name="userDao" ref="userDao" />
        <property name="sectionDao" ref="sectionDao" />
        <property name="submissionDao" ref="submissionDao" />
        <property name="fileBaseDir" value="@file.base.dir@" />
    </bean>

    <bean name="/student/viewSubmission.html"
        class="csns.spring.controller.student.ViewSubmissionController">
        <property name="userDao" ref="userDao" />
        <property name="assignmentDao" ref="assignmentDao" />
        <property name="submissionDao" ref="submissionDao" />
    </bean>

    <bean name="/student/viewOnlineSubmission.html"
        class="csns.spring.controller.student.ViewOnlineSubmissionController">
        <property name="submissionDao" ref="submissionDao" />
    </bean>

    <bean name="/student/doAssignment.html"
        class="csns.spring.controller.student.DoAssignmentController">
        <property name="commandName" value="answerSheet" />
        <property name="commandClass" value="csns.model.qa.AnswerSheet" />
        <property name="sessionForm" value="true" />
        <property name="validator" ref="answerSheetValidator" />
        <property name="assignmentDao" ref="assignmentDao" />
        <property name="submissionDao" ref="submissionDao" />
        <property name="answerSheetDao" ref="answerSheetDao" />
        <property name="userDao" ref="userDao" />
    </bean>

    <!--==========================-->
    <!-- controllers - instructor -->
    <!--==========================-->

    <bean name="/instructor/home.html"
        class="csns.spring.controller.instructor.ViewSectionsController">
        <property name="viewName" value="instructor/viewSections" />
        <property name="userDao" ref="userDao" />
        <property name="quarterDao" ref="quarterDao" />
        <property name="sectionDao" ref="sectionDao" />
    </bean>

    <bean name="/instructor/addSection.html"
        class="csns.spring.controller.instructor.AddSectionController">
        <property name="userDao" ref="userDao" />
        <property name="courseDao" ref="courseDao" />
        <property name="sectionDao" ref="sectionDao" />
        <property name="forumDao" ref="forumDao" />
        <property name="subscriptionDao" ref="subscriptionDao" />
    </bean>

    <bean name="/instructor/editSection.html"
        class="csns.spring.controller.instructor.EditSectionController">
        <property name="sectionDao" ref="sectionDao" />
    </bean>

    <bean name="/instructor/deleteSection.html"
        class="csns.spring.controller.instructor.DeleteSectionController">
        <property name="userDao" ref="userDao" />
        <property name="sectionDao" ref="sectionDao" />
    </bean>

    <bean name="/instructor/addInstructor.html"
        class="csns.spring.controller.instructor.AddInstructorController">
        <property name="userDao" ref="userDao" />
        <property name="sectionDao" ref="sectionDao" />
        <property name="forumDao" ref="forumDao" />
        <property name="subscriptionDao" ref="subscriptionDao" />
    </bean>

    <bean name="/instructor/addAssignment.html"
        class="csns.spring.controller.instructor.AddAssignmentController">
        <property name="commandName" value="assignment" />
        <property name="commandClass" value="csns.model.assignment.Assignment" />
        <property name="formView" value="instructor/addAssignment" />
        <property name="successView" value="redirect:/instructor/home.html" />
        <property name="userDao" ref="userDao" />
        <property name="sectionDao" ref="sectionDao" />
        <property name="eventDao" ref="eventDao" />
        <property name="assignmentTemplateDao" ref="assignmentTemplateDao" />
        <property name="validator" ref="assignmentValidator" />
    </bean>

    <bean name="/instructor/editAssignment.html"
        class="csns.spring.controller.instructor.EditAssignmentController">
        <property name="commandName" value="assignment" />
        <property name="commandClass" value="csns.model.assignment.Assignment" />
        <property name="sessionForm" value="false" />
        <property name="formView" value="instructor/editAssignment" />
        <property name="successView" value="redirect:/instructor/home.html" />
        <property name="assignmentDao" ref="assignmentDao" />
        <property name="eventDao" ref="eventDao" />        
        <property name="validator" ref="assignmentValidator" />
    </bean>

    <bean name="/instructor/deleteAssignment.html"
        class="csns.spring.controller.instructor.DeleteAssignmentController">
        <property name="assignmentDao" ref="assignmentDao" />
        <property name="eventDao" ref="eventDao" />       
    </bean>

    <bean name="/instructor/saveAssignmentAsTemplate.html"
        class="csns.spring.controller.instructor.SaveAssignmentAsTemplateController">
        <property name="commandName" value="template" />
        <property name="commandClass" value="csns.model.assignment.AssignmentTemplate" />
        <property name="sessionForm" value="false" />
        <property name="formView" value="instructor/saveAssignmentAsTemplate" />
        <property name="userDao" ref="userDao" />
        <property name="assignmentDao" ref="assignmentDao" />
        <property name="assignmentTemplateDao" ref="assignmentTemplateDao" />
        <property name="validator" ref="assignmentTemplateValidator" />
    </bean>

    <bean name="/instructor/viewAssignmentTemplates.html"
        class="csns.spring.controller.instructor.ViewAssignmentTemplatesController">
        <property name="sectionDao" ref="sectionDao" />
    </bean>

    <bean name="/instructor/deleteAssignmentTemplate.html"
        class="csns.spring.controller.instructor.DeleteAssignmentTemplateController">
        <property name="assignmentTemplateDao" ref="assignmentTemplateDao" />
    </bean>

    <bean name="/instructor/viewOnlineAssignments.html"
        class="csns.spring.controller.instructor.ViewOnlineAssignmentsController">
        <property name="userDao" ref="userDao" />
        <property name="sectionDao" ref="sectionDao" />
        <property name="assignmentDao" ref="assignmentDao" />
    </bean>

    <bean name="/instructor/viewOnlineAssignment.html"
        class="csns.spring.controller.instructor.ViewOnlineAssignmentController">
        <property name="assignmentDao" ref="assignmentDao" />
    </bean>

    <bean name="/instructor/createOnlineAssignment.html"
        class="csns.spring.controller.instructor.CreateOnlineAssignmentController">
        <property name="commandName" value="assignment" />
        <property name="commandClass" value="csns.model.assignment.OnlineAssignment" />
        <property name="sessionForm" value="false" />
        <property name="formView" value="instructor/createOnlineAssignment" />
        <property name="userDao" ref="userDao" />
        <property name="sectionDao" ref="sectionDao" />
        <property name="assignmentDao" ref="assignmentDao" />
        <property name="validator" ref="assignmentValidator" />
    </bean>

    <bean name="/instructor/publishOnlineAssignment.html"
        class="csns.spring.controller.instructor.PublishOnlineAssignmentController">
        <property name="assignmentDao" ref="assignmentDao" />
    </bean>

    <bean name="/instructor/autoGradeAssignment.html"
        class="csns.spring.controller.instructor.AutoGradeAssignmentController">
        <property name="assignmentDao" ref="assignmentDao" />
    </bean>

    <bean name="/instructor/viewStudents.html"
        class="csns.spring.controller.instructor.ViewStudentsController">
        <property name="sectionDao" ref="sectionDao" />
    </bean>

    <bean name="/instructor/viewSubmissions.html"
        class="csns.spring.controller.instructor.ViewSubmissionsController">
        <property name="assignmentDao" ref="assignmentDao" />
    </bean>

    <bean name="/instructor/viewSubmissionsByStudent.html"
        class="csns.spring.controller.instructor.ViewSubmissionsByStudentController">
        <property name="sectionDao" ref="sectionDao" />
        <property name="submissionDao" ref="submissionDao" />
        <property name="userDao" ref="userDao" />
    </bean>

    <bean name="/instructor/gradeSubmission.html"
        class="csns.spring.controller.instructor.GradeSubmissionController">
        <property name="submissionDao" ref="submissionDao" />
    </bean>

    <bean name="/instructor/viewOnlineSubmission.html"
        class="csns.spring.controller.instructor.ViewOnlineSubmissionController">
        <property name="submissionDao" ref="submissionDao" />
    </bean>

    <bean name="/instructor/autoGradeSubmission.html"
        class="csns.spring.controller.instructor.AutoGradeSubmissionController">
        <property name="submissionDao" ref="submissionDao" />
    </bean>

    <bean name="/instructor/uploadToSubmission.html"
        class="csns.spring.controller.instructor.UploadToSubmissionController">
        <property name="submissionDao" ref="submissionDao" />
        <property name="fileDao" ref="fileDao" />
        <property name="fileBaseDir" value="@file.base.dir@" />
    </bean>

    <bean name="/instructor/emailAssignmentGrades.html"
        class="csns.spring.controller.instructor.EmailAssignmentGradesController">
        <property name="mailSender" ref="mailSender" />
        <property name="userDao" ref="userDao" />
        <property name="assignmentDao" ref="assignmentDao" />
        <property name="submissionDao" ref="submissionDao" />
    </bean>

    <bean name="/instructor/emailSectionGrades.html"
        class="csns.spring.controller.instructor.EmailSectionGradesController">
        <property name="mailSender" ref="mailSender" />
        <property name="userDao" ref="userDao" />
        <property name="sectionDao" ref="sectionDao" />
        <property name="enrollmentDao" ref="enrollmentDao" />
    </bean>

    <bean name="/instructor/importRoster.html"
        class="csns.spring.controller.instructor.ImportRosterController">
        <property name="commandName" value="importRosterCommand" />
        <property name="commandClass" value="csns.spring.command.ImportRosterCommand" />
        <property name="pages">
            <list>
                <value>instructor/importRosterPage0</value>
                <value>instructor/importRosterPage1</value>
            </list>
        </property>
        <property name="userDao" ref="userDao" />
        <property name="roleDao" ref="roleDao" />
        <property name="sectionDao" ref="sectionDao" />
        <property name="forumDao" ref="forumDao" />
        <property name="subscriptionDao" ref="subscriptionDao" />
        <property name="passwordEncoder" ref="passwordEncoder" />
    </bean>

    <bean name="/instructor/dropStudents.html"
        class="csns.spring.controller.instructor.DropStudentsController">
        <property name="userDao" ref="userDao" />
        <property name="sectionDao" ref="sectionDao" />
        <property name="enrollmentDao" ref="enrollmentDao" />
    </bean>

    <bean name="/instructor/viewEnrollments.html"
        class="csns.spring.controller.instructor.ViewEnrollmentsController">
        <property name="gradeDao" ref="gradeDao" />
        <property name="sectionDao" ref="sectionDao" />
    </bean>

    <bean name="/instructor/enterGrade.html"
        class="csns.spring.controller.instructor.EnterGradeController">
        <property name="userDao" ref="userDao" />
        <property name="gradeDao" ref="gradeDao" />
        <property name="sectionDao" ref="sectionDao" />
        <property name="enrollmentDao" ref="enrollmentDao" />
        <property name="submissionDao" ref="submissionDao" />
    </bean>

    <bean name="/instructor/enterQuickGrade.html"
        class="csns.spring.controller.instructor.EnterQuickGradeController">
        <property name="gradeDao" ref="gradeDao" />
        <property name="enrollmentDao" ref="enrollmentDao" />
    </bean>

    <bean name="/instructor/downloadZip.html"
        class="csns.spring.controller.instructor.DownloadZipController">
        <property name="assignmentDao" ref="assignmentDao" />
        <property name="submissionDao" ref="submissionDao" />
        <property name="sectionDao" ref="sectionDao" />
        <property name="userDao" ref="userDao" />
        <property name="fileBaseDir" value="@file.base.dir@" />
    </bean>

    <bean name="/instructor/showAddSectionForm.html"
        class="csns.spring.controller.ajax.ShowAddSectionFormController">
        <property name="courseDao" ref="courseDao" />
    </bean>

    <bean name="/instructor/showAddInstructorForm.html"
        class="csns.spring.controller.ajax.ShowAddInstructorFormController">
        <property name="userDao" ref="userDao" />
        <property name="sectionDao" ref="sectionDao" />
    </bean>

    <!--=======================-->
    <!-- controllers - faculty -->
    <!--=======================-->

    <bean name="/faculty/editCourse.html"
        class="csns.spring.controller.faculty.EditCourseController">
        <property name="commandName" value="course" />
        <property name="commandClass" value="csns.model.Course" />
        <property name="formView" value="faculty/editCourse" />
        <property name="userDao" ref="userDao" />
        <property name="fileDao" ref="fileDao" />
        <property name="courseDao" ref="courseDao" />
        <property name="fileBaseDir" value="@file.base.dir@" />
    </bean>

    <bean name="/faculty/viewAccount.html"
        class="csns.spring.controller.faculty.ViewAccountController">
        <property name="userDao" ref="userDao" />
    </bean>

    <bean name="/faculty/postNews.html"
        class="csns.spring.controller.faculty.PostNewsController">
        <property name="commandName" value="news" />
        <property name="commandClass" value="csns.model.News" />
        <property name="formView" value="faculty/postNews" />
        <property name="validator" ref="newsValidator" />
        <property name="newsDao" ref="newsDao" />
        <property name="forumDao" ref="forumDao" />
        <property name="topicDao" ref="topicDao" />
        <property name="subscriptionDao" ref="subscriptionDao" />
        <property name="userDao" ref="userDao" />
        <property name="fileDao" ref="fileDao" />
        <property name="fileBaseDir" value="@file.base.dir@" />
        <property name="filePublic" value="true" />
    </bean>

    <bean name="/faculty/expireNews.html"
        class="csns.spring.controller.faculty.ExpireNewsController">
        <property name="newsDao" ref="newsDao" />
    </bean>

    <!--=====================-->
    <!-- controllers - admin -->
    <!--=====================-->

    <bean name="/admin/viewSections.html"
        class="csns.spring.controller.admin.ViewSectionsController">
        <property name="userDao" ref="userDao" />
        <property name="courseDao" ref="courseDao" />
        <property name="quarterDao" ref="quarterDao" />
        <property name="sectionDao" ref="sectionDao" />
    </bean>

    <bean name="/admin/importGrades.html"
        class="csns.spring.controller.admin.ImportGradesController">
        <property name="commandName" value="importGradesCommand" />
        <property name="commandClass" value="csns.spring.command.ImportGradesCommand" />
        <property name="pages">
            <list>
                <value>admin/importGradesPage0</value>
                <value>admin/importGradesPage1</value>
                <value>admin/importGradesPage2</value>
            </list>
        </property>
        <property name="userDao" ref="userDao" />
        <property name="roleDao" ref="roleDao" />
        <property name="courseDao" ref="courseDao" />
        <property name="sectionDao" ref="sectionDao" />
        <property name="gradeDao" ref="gradeDao" />
        <property name="passwordEncoder" ref="passwordEncoder" />
    </bean>

    <bean name="/admin/importWPE.html"
        class="csns.spring.controller.admin.ImportWPEController">
        <property name="commandName" value="importWPECommand" />
        <property name="commandClass" value="csns.spring.command.ImportWPECommand" />
        <property name="pages">
            <list>
                <value>admin/importWPEPage0</value>
                <value>admin/importWPEPage1</value>
            </list>
        </property>
        <property name="wpeInstructorId" value="1007" />
        <property name="userDao" ref="userDao" />
        <property name="roleDao" ref="roleDao" />
        <property name="courseDao" ref="courseDao" />
        <property name="sectionDao" ref="sectionDao" />
        <property name="enrollmentDao" ref="enrollmentDao" />
        <property name="gradeDao" ref="gradeDao" />
        <property name="passwordEncoder" ref="passwordEncoder" />
    </bean>

    <bean name="/admin/getGradesAsText.html"
        class="csns.spring.controller.admin.GetGradesAsTextController">
        <property name="userDao" ref="userDao" />
        <property name="courseDao" ref="courseDao" />
        <property name="sectionDao" ref="sectionDao" />
    </bean>

    <!--==========================-->
    <!-- controllers - assessment -->
    <!--==========================-->

    <bean name="/assessment/editCourseJournal.html"
        class="csns.spring.controller.assessment.EditCourseJournalController">
        <property name="userDao" ref="userDao" />
        <property name="sectionDao" ref="sectionDao" />
        <property name="courseJournalDao" ref="courseJournalDao" />
    </bean>

    <bean name="/assessment/uploadToCourseJournal.html"
        class="csns.spring.controller.assessment.UploadToCourseJournalController">
        <property name="userDao" ref="userDao" />
        <property name="fileDao" ref="fileDao" />
        <property name="courseDao" ref="courseDao" />
        <property name="courseJournalDao" ref="courseJournalDao" />
        <property name="fileBaseDir" value="@file.base.dir@" />
    </bean>

    <bean name="/assessment/deleteFromCourseJournal.html"
        class="csns.spring.controller.assessment.DeleteFromCourseJournalController">
        <property name="courseJournalDao" ref="courseJournalDao" />
    </bean>

    <bean name="/assessment/editCourseJournalFile.html"
        class="csns.spring.controller.assessment.EditCourseJournalFileController">
        <property name="commandName" value="document" />
        <property name="commandClass"
            value="csns.spring.command.CourseJournalCommand" />
        <property name="formView" value="assessment/editCourseJournalFile" />
        <property name="fileDao" ref="fileDao" />
        <property name="courseJournalDao" ref="courseJournalDao" />
        <property name="fileBaseDir" value="@file.base.dir@" />
    </bean>

    <bean name="/assessment/selectEnrollmentSamples.html"
        class="csns.spring.controller.assessment.SelectEnrollmentSamplesController">
        <property name="commandName" value="courseJournalCommand" />
        <property name="commandClass"
            value="csns.spring.command.CourseJournalCommand" />
        <property name="formView" value="assessment/selectEnrollmentSamples" />
        <property name="validator" ref="selectEnrollmentSamplesValidator" />
        <property name="enrollmentDao" ref="enrollmentDao" />
        <property name="courseJournalDao" ref="courseJournalDao" />
    </bean>

    <bean name="/assessment/changeCourseJournalStatus.html"
        class="csns.spring.controller.assessment.ChangeCourseJournalStatusController">
        <property name="courseJournalDao" ref="courseJournalDao" />
    </bean>

    <bean name="/assessment/viewCourseJournal.html"
        class="csns.spring.controller.assessment.ViewCourseJournalController">
        <property name="courseJournalDao" ref="courseJournalDao" />
    </bean>

    <bean name="/assessment/viewCourseJournals.html"
        class="csns.spring.controller.assessment.ViewCourseJournalsController">
        <property name="courseJournalDao" ref="courseJournalDao" />
    </bean>

    <bean name="/assessment/viewStudentGrade.html"
        class="csns.spring.controller.assessment.ViewStudentGradeController">
        <property name="enrollmentDao" ref="enrollmentDao" />
        <property name="submissionDao" ref="submissionDao" />
    </bean>

    <bean name="/assessment/viewStudentSubmission.html"
        class="csns.spring.controller.assessment.ViewStudentSubmissionController">
        <property name="submissionDao" ref="submissionDao" />
    </bean>

    <bean name="/assessment/viewStoredQueries.html"
        class="csns.spring.controller.assessment.ViewStoredQueriesController">
        <property name="storedQueryDao" ref="storedQueryDao" />
    </bean>

    <bean name="/assessment/viewStoredQuery.html"
        class="csns.spring.controller.assessment.ViewStoredQueryController">
        <property name="storedQueryDao" ref="storedQueryDao" />
        <property name="userDao" ref="userDao" />
    </bean>

    <bean name="/assessment/createStoredQuery.html"
        class="csns.spring.controller.assessment.CreateStoredQueryController">
        <property name="commandName" value="query" />
        <property name="commandClass" value="csns.model.assessment.StoredQuery" />
        <property name="formView" value="assessment/createStoredQuery" />
        <property name="validator" ref="storedQueryValidator" />
        <property name="storedQueryDao" ref="storedQueryDao" />
        <property name="userDao" ref="userDao" />
    </bean>

    <bean name="/assessment/editStoredQuery.html"
        class="csns.spring.controller.assessment.EditStoredQueryController">
        <property name="commandName" value="query" />
        <property name="commandClass" value="csns.model.assessment.StoredQuery" />
        <property name="formView" value="assessment/editStoredQuery" />
        <property name="validator" ref="storedQueryValidator" />
        <property name="storedQueryDao" ref="storedQueryDao" />
    </bean>

    <bean name="/assessment/runStoredQuery.html"
        class="csns.spring.controller.assessment.RunStoredQueryController">
        <property name="storedQueryDao" ref="storedQueryDao" />
        <property name="jdbcTemplate" ref="jdbcTemplate" />
    </bean>

    <bean name="/assessment/plotStoredQuery.html"
        class="csns.spring.controller.assessment.PlotStoredQueryController">
        <property name="imageWidth" value="800" />
        <property name="imageHeight" value="600" />
        <property name="storedQueryDao" ref="storedQueryDao" />
        <property name="jdbcTemplate" ref="jdbcTemplate" />
    </bean>

    <bean name="/assessment/skillEvaluation.html"
        class="csns.spring.controller.assessment.SkillEvaluationController">
        <property name="userDao" ref="userDao" />
        <property name="sectionDao" ref="sectionDao" />
        <property name="skillEvaluationDao" ref="skillEvaluationDao" />
    </bean>

    <bean name="/assessment/removeSkillEvaluations.html"
        class="csns.spring.controller.assessment.RemoveSkillEvaluationsController">
        <property name="userDao" ref="userDao" />
        <property name="sectionDao" ref="sectionDao" />
        <property name="skillEvaluationDao" ref="skillEvaluationDao" />
    </bean>

    <bean name="/assessment/enterSkillEvaluation.html"
        class="csns.spring.controller.assessment.EnterSkillEvaluationController">
        <property name="skillEvaluationDao" ref="skillEvaluationDao" />
    </bean>

    <bean name="/assessment/resetSkillEvaluation.html"
        class="csns.spring.controller.assessment.ResetSkillEvaluationController">
        <property name="skillEvaluationDao" ref="skillEvaluationDao" />
    </bean>

    <bean name="/assessment/mft/viewMFTScores.html"
        class="csns.spring.controller.assessment.ViewMFTScoresController">
        <property name="userDao" ref="userDao" />
        <property name="mftDistributionDao" ref="mftDistributionDao" />
    </bean>

    <bean name="/assessment/mft/importMFTScores.html"
        class="csns.spring.controller.assessment.ImportMFTScoresController">
        <property name="commandName" value="mftScoreReport" />
        <property name="commandClass" value="csns.spring.command.MFTScoreReport" />
        <property name="formView" value="assessment/importMFTScores" />
        <property name="validator" ref="mftScoreReportValidator" />
        <property name="userDao" ref="userDao" />
    </bean>

    <bean name="/assessment/mft/confirmMFTScores.html"
        class="csns.spring.controller.assessment.ConfirmMFTScoresController">
        <property name="userDao" ref="userDao" />
    </bean>

    <bean name="/assessment/mft/viewMFTAssessmentSummaries.html"
        class="csns.spring.controller.assessment.ViewMFTAssessmentSummariesController">
        <property name="mftAssessmentSummaryDao" ref="mftAssessmentSummaryDao" />
        <property name="mftDistributionDao" ref="mftDistributionDao" />
    </bean>

    <bean name="/assessment/mft/updateMFTAssessmentSummary.html"
        class="csns.spring.controller.assessment.UpdateMFTAssessmentSummaryController">
        <property name="commandName" value="summary" />
        <property name="commandClass" value="csns.model.assessment.MFTAssessmentSummary" />
        <property name="formView" value="assessment/updateMFTAssessmentSummary" />
        <property name="mftAssessmentSummaryDao" ref="mftAssessmentSummaryDao" />
    </bean>

    <bean name="/assessment/mft/deleteMFTAssessmentSummary.html"
        class="csns.spring.controller.assessment.DeleteMFTAssessmentSummaryController">
        <property name="mftAssessmentSummaryDao" ref="mftAssessmentSummaryDao" />
    </bean>

    <bean name="/assessment/mft/viewMFTDistributions.html"
        class="csns.spring.controller.assessment.ViewMFTDistributionsController">
        <property name="mftDistributionDao" ref="mftDistributionDao" />
    </bean>

    <bean name="/assessment/mft/viewMFTDistribution.html"
        class="csns.spring.controller.assessment.ViewMFTDistributionController">
        <property name="mftDistributionDao" ref="mftDistributionDao" />
    </bean>

    <bean name="/assessment/mft/showAddMFTDistributionForm.html"
        class="csns.spring.controller.assessment.ShowAddMFTDistributionFormController">
        <property name="mftDistributionTypeDao" ref="mftDistributionTypeDao" />
    </bean>

    <bean name="/assessment/mft/addMFTDistribution.html"
        class="csns.spring.controller.assessment.AddMFTDistributionController">
        <property name="commandName" value="distribution" />
        <property name="commandClass" value="csns.model.assessment.MFTDistribution" />
        <property name="formView" value="assessment/addMFTDistribution" />
        <property name="mftDistributionDao" ref="mftDistributionDao" />
        <property name="mftDistributionTypeDao" ref="mftDistributionTypeDao" />
    </bean>

    <bean name="/assessment/mft/editMFTDistribution.html"
        class="csns.spring.controller.assessment.EditMFTDistributionController">
        <property name="commandName" value="distribution" />
        <property name="commandClass" value="csns.model.assessment.MFTDistribution" />
        <property name="formView" value="assessment/editMFTDistribution" />
        <property name="mftDistributionDao" ref="mftDistributionDao" />
    </bean>

    <bean name="/assessment/mft/deleteMFTDistribution.html"
        class="csns.spring.controller.assessment.DeleteMFTDistributionController">
        <property name="mftDistributionDao" ref="mftDistributionDao" />
    </bean>

    <!--=======================-->
    <!-- controllers - courses -->
    <!--=======================-->

    <bean name="/course/getCoursesAsHtml.html"
        class="csns.spring.controller.course.GetCoursesAsHtmlController">
        <property name="courseDao" ref="courseDao" />
    </bean>

    <!--========================-->
    <!-- controllers - programs -->
    <!--========================-->

    <bean name="/program/viewPrograms.html"
        class="csns.spring.controller.program.ViewProgramsController">
        <property name="programDao" ref="programDao" />
    </bean>

    <bean name="/program/viewProgram.html"
        class="csns.spring.controller.program.ViewProgramController">
        <property name="programDao" ref="programDao" />
    </bean>

    <bean name="/program/createProgram.html"
        class="csns.spring.controller.program.CreateProgramController">
        <property name="commandName" value="program" />
        <property name="commandClass" value="csns.model.Program" />
        <property name="formView" value="program/createProgram" />
        <property name="validator" ref="programValidator" />
        <property name="programDao" ref="programDao" />
    </bean>

    <bean name="/program/editProgram.html"
        class="csns.spring.controller.program.EditProgramController">
        <property name="commandName" value="program" />
        <property name="commandClass" value="csns.model.Program" />
        <property name="formView" value="program/editProgram" />
        <property name="validator" ref="programValidator" />
        <property name="programDao" ref="programDao" />
    </bean>

    <bean name="/program/deleteProgram.html"
        class="csns.spring.controller.program.DeleteProgramController">
        <property name="programDao" ref="programDao" />
    </bean>

    <bean name="/program/addCourse.html"
        class="csns.spring.controller.program.AddCourseController">
        <property name="courseDao" ref="courseDao" />
        <property name="programDao" ref="programDao" />
    </bean>

    <bean name="/program/removeCourse.html"
        class="csns.spring.controller.program.RemoveCourseController">
        <property name="courseDao" ref="courseDao" />
        <property name="programDao" ref="programDao" />
    </bean>

    <bean name="/program/addCourseSubstitution.html"
        class="csns.spring.controller.program.AddCourseSubstitutionController">
        <property name="courseDao" ref="courseDao" />
        <property name="programDao" ref="programDao" />
        <property name="courseSubstitutionDao" ref="courseSubstitutionDao" />
    </bean>

    <bean name="/program/removeCourseSubstitution.html"
        class="csns.spring.controller.program.RemoveCourseSubstitutionController">
        <property name="programDao" ref="programDao" />
        <property name="courseSubstitutionDao" ref="courseSubstitutionDao" />
    </bean>

    <!--=====================================-->
    <!-- controllers - questions and answers -->
    <!--=====================================-->

    <bean name="/qa/editQuestionSheet.html"
        class="csns.spring.controller.qa.EditQuestionSheetController">
        <property name="questionSheetDao" ref="questionSheetDao" />
    </bean>

    <bean name="/qa/publishQuestionSheet.html"
        class="csns.spring.controller.qa.PublishQuestionSheetController">
        <property name="questionSheetDao" ref="questionSheetDao" />
    </bean>

    <bean name="/qa/closeQuestionSheet.html"
        class="csns.spring.controller.qa.CloseQuestionSheetController">
        <property name="questionSheetDao" ref="questionSheetDao" />
    </bean>

    <bean name="/qa/addToQuestionSheet.html"
        class="csns.spring.controller.qa.AddToQuestionSheetController" />

    <bean name="/qa/stopAddingToQuestionSheet.html"
        class="csns.spring.controller.qa.StopAddingToQuestionSheetController" />

    <bean name="/qa/editQuestionSection.html"
        class="csns.spring.controller.qa.EditQuestionSectionController">
        <property name="commandName" value="section" />
        <property name="commandClass" value="csns.model.qa.QuestionSection" />
        <property name="formView" value="qa/editQuestionSection" />
        <property name="questionSheetDao" ref="questionSheetDao" />
    </bean>

    <bean name="/qa/deleteQuestionSection.html"
        class="csns.spring.controller.qa.DeleteQuestionSectionController">
        <property name="questionSheetDao" ref="questionSheetDao" />
    </bean>

    <bean name="/qa/addQuestion.html"
        class="csns.spring.controller.qa.AddQuestionController">
        <property name="commandName" value="question" />
        <property name="commandClass" value="csns.model.qa.Question" />
        <property name="formView" value="qa/addQuestion" />
        <property name="validator" ref="questionValidator" />
        <property name="questionSheetDao" ref="questionSheetDao" />
    </bean>

    <bean name="/qa/addOldQuestion.html"
        class="csns.spring.controller.qa.AddOldQuestionController">
        <property name="questionDao" ref="questionDao" />
        <property name="questionSheetDao" ref="questionSheetDao" />
    </bean>

    <bean name="/qa/editQuestion.html"
        class="csns.spring.controller.qa.EditQuestionController">
        <property name="commandName" value="question" />
        <property name="commandClass" value="csns.model.qa.Question" />
        <property name="formView" value="qa/editQuestion" />
        <property name="validator" ref="questionValidator" />
        <property name="questionSheetDao" ref="questionSheetDao" />
    </bean>

    <bean name="/qa/reorderQuestion.html"
        class="csns.spring.controller.qa.ReorderQuestionController">
        <property name="questionSheetDao" ref="questionSheetDao" />
    </bean>

    <bean name="/qa/deleteQuestion.html"
        class="csns.spring.controller.qa.DeleteQuestionController">
        <property name="questionSheetDao" ref="questionSheetDao" />
    </bean>

    <!--=======================-->
    <!-- controllers - surveys -->
    <!--=======================-->

    <bean name="/survey/viewSurveys.html"
        class="csns.spring.controller.survey.ViewSurveysController">
        <property name="surveyDao" ref="surveyDao" />
    </bean>

    <bean name="/survey/viewSurvey.html"
        class="csns.spring.controller.survey.ViewSurveyController">
        <property name="surveyDao" ref="surveyDao" />
    </bean>

    <bean name="/survey/createSurvey.html"
        class="csns.spring.controller.survey.CreateSurveyController">
        <property name="commandName" value="survey" />
        <property name="commandClass" value="csns.model.survey.Survey" />
        <property name="formView" value="survey/createSurvey" />
        <property name="validator" ref="surveyValidator" />
        <property name="surveyDao" ref="surveyDao" />
        <property name="userDao" ref="userDao" />
    </bean>

    <bean name="/survey/editSurvey.html"
        class="csns.spring.controller.survey.EditSurveyController">
        <property name="commandName" value="survey" />
        <property name="commandClass" value="csns.model.survey.Survey" />
        <property name="formView" value="survey/editSurvey" />
        <property name="validator" ref="surveyValidator" />
        <property name="surveyDao" ref="surveyDao" />
    </bean>

    <bean name="/survey/deleteSurvey.html"
        class="csns.spring.controller.survey.DeleteSurveyController">
        <property name="surveyDao" ref="surveyDao" />
    </bean>

    <bean name="/survey/viewSurveyResults.html"
        class="csns.spring.controller.survey.ViewSurveyResultsController">
        <property name="surveyDao" ref="surveyDao" />
    </bean>

    <bean name="/survey/viewSurveyResponses.html"
        class="csns.spring.controller.survey.ViewSurveyResponsesController">
        <property name="surveyDao" ref="surveyDao" />
        <property name="surveyResponseDao" ref="surveyResponseDao" />
        <property name="questionDao" ref="questionDao" />
    </bean>

    <bean name="/survey/viewAnswerSheet.html"
        class="csns.spring.controller.survey.ViewAnswerSheetController">
        <property name="answerSheetDao" ref="answerSheetDao" />
    </bean>

    <!--============================-->
    <!-- controllers - mailinglists -->
    <!--============================-->

    <bean name="/mailinglist/viewMailinglists.html"
        class="csns.spring.controller.mailinglist.ViewMailinglistsController">
        <property name="mailinglistDao" ref="mailinglistDao" />
    </bean>

    <bean name="/mailinglist/viewMailinglist.html"
        class="csns.spring.controller.mailinglist.ViewMailinglistController">
        <property name="mailinglistDao" ref="mailinglistDao" />
        <property name="messageDao" ref="mailinglistMessageDao" />
        <property name="userDao" ref="userDao" />
        <property name="subscriptionDao" ref="subscriptionDao" />
    </bean>

    <bean name="/mailinglist/emailToList.html"
        class="csns.spring.controller.mailinglist.EmailToListController">
        <property name="commandName" value="message" />
        <property name="commandClass" value="csns.model.mailinglist.Message" />
        <property name="formView" value="mailinglist/emailToList" />
        <property name="validator" ref="messageValidator" />
        <property name="mailinglistDao" ref="mailinglistDao" />
        <property name="messageDao" ref="mailinglistMessageDao" />
        <property name="subscriptionDao" ref="subscriptionDao" />
        <property name="userDao" ref="userDao" />
        <property name="fileDao" ref="fileDao" />
        <property name="fileBaseDir" value="@file.base.dir@" />
        <property name="filePublic" value="true" />
        <property name="massMailSender" ref="massMailSender" />
        <property name="emailTemplate" ref="mailinglistEmailTemplate" />
    </bean>

    <bean name="/mailinglist/viewMessage.html"
        class="csns.spring.controller.mailinglist.ViewMessageController">
        <property name="messageDao" ref="mailinglistMessageDao" />
    </bean>

    <bean name="/mailinglist/searchMessages.html"
        class="csns.spring.controller.mailinglist.SearchMessagesController">
        <property name="mailinglistDao" ref="mailinglistDao" />
        <property name="messageDao" ref="mailinglistMessageDao" />
    </bean>

    <bean name="/mailinglist/subscriptions.html"
        class="csns.spring.controller.mailinglist.SubscriptionsController">
        <property name="userDao" ref="userDao" />
        <property name="subscriptionDao" ref="subscriptionDao" />
        <property name="mailinglistDao" ref="mailinglistDao" />
    </bean>

    <bean name="/mailinglist/viewMembership.html"
        class="csns.spring.controller.mailinglist.ViewMembershipController">
        <property name="mailinglistDao" ref="mailinglistDao" />
        <property name="subscriptionDao" ref="subscriptionDao" />
    </bean>

    <!--======================-->
    <!-- controllers - forums -->
    <!--======================-->

    <bean name="/forum/viewForums.html"
        class="csns.spring.controller.forum.ViewForumsController">
        <property name="forumDao" ref="forumDao" />
        <property name="userDao" ref="userDao" />
    </bean>

    <bean name="/forum/viewForum.html"
        class="csns.spring.controller.forum.ViewForumController">
        <property name="forumDao" ref="forumDao" />
        <property name="topicDao" ref="topicDao" />
        <property name="userDao" ref="userDao" />
    </bean>

    <bean name="/forum/toggleFavoriteForum.html"
        class="csns.spring.controller.forum.ToggleFavoriteForumController">
        <property name="forumDao" ref="forumDao" />
        <property name="userDao" ref="userDao" />
    </bean>

    <bean name="/forum/createTopic.html"
        class="csns.spring.controller.forum.CreateTopicController">
        <property name="commandName" value="post" />
        <property name="commandClass" value="csns.model.forum.Post" />
        <property name="formView" value="forum/createTopic" />
        <property name="validator" ref="messageValidator" />
        <property name="forumDao" ref="forumDao" />
        <property name="topicDao" ref="topicDao" />
        <property name="userDao" ref="userDao" />
        <property name="fileDao" ref="fileDao" />
        <property name="fileBaseDir" value="@file.base.dir@" />
        <property name="filePublic" value="true" />
        <property name="subscriptionDao" ref="subscriptionDao" />
        <property name="massMailSender" ref="massMailSender" />
        <property name="emailTemplate" ref="forumTopicNotificationEmailTemplate" />
    </bean>

    <bean name="/forum/viewTopic.html"
        class="csns.spring.controller.forum.ViewTopicController">
        <property name="topicDao" ref="topicDao" />
        <property name="userDao" ref="userDao" />
        <property name="subscriptionDao" ref="subscriptionDao" />
    </bean>

    <bean name="/forum/deleteTopic.html"
        class="csns.spring.controller.forum.DeleteTopicController">
        <property name="topicDao" ref="topicDao" />
        <property name="userDao" ref="userDao" />
    </bean>

    <bean name="/forum/togglePinnedTopic.html"
        class="csns.spring.controller.forum.TogglePinnedTopicController">
        <property name="topicDao" ref="topicDao" />
        <property name="userDao" ref="userDao" />
    </bean>

    <bean name="/forum/replyToTopic.html"
        class="csns.spring.controller.forum.ReplyToTopicController">
        <property name="commandName" value="post" />
        <property name="commandClass" value="csns.model.forum.Post" />
        <property name="formView" value="forum/replyToTopic" />
        <property name="validator" ref="messageValidator" />
        <property name="topicDao" ref="topicDao" />
        <property name="postDao" ref="postDao" />
        <property name="userDao" ref="userDao" />
        <property name="fileDao" ref="fileDao" />
        <property name="fileBaseDir" value="@file.base.dir@" />
        <property name="filePublic" value="true" />
        <property name="subscriptionDao" ref="subscriptionDao" />
        <property name="massMailSender" ref="massMailSender" />
        <property name="emailTemplate" ref="forumPostNotificationEmailTemplate" />
    </bean>

    <bean name="/forum/editPost.html"
        class="csns.spring.controller.forum.EditPostController">
        <property name="commandName" value="post" />
        <property name="commandClass" value="csns.model.forum.Post" />
        <property name="formView" value="forum/editPost" />
        <property name="validator" ref="messageValidator" />
        <property name="postDao" ref="postDao" />
        <property name="userDao" ref="userDao" />
        <property name="fileDao" ref="fileDao" />
        <property name="fileBaseDir" value="@file.base.dir@" />
        <property name="filePublic" value="true" />
    </bean>

    <bean name="/forum/deletePostAttachment.html"
        class="csns.spring.controller.forum.DeletePostAttachmentController">
        <property name="postDao" ref="postDao" />
        <property name="userDao" ref="userDao" />
    </bean>

    <bean name="/forum/searchPosts.html"
        class="csns.spring.controller.forum.SearchPostsController">
        <property name="forumDao" ref="forumDao" />
        <property name="postDao" ref="postDao" />
    </bean>

    <bean name="/forum/subscriptions.html"
        class="csns.spring.controller.forum.SubscriptionsController">
        <property name="userDao" ref="userDao" />
        <property name="forumDao" ref="forumDao" />
        <property name="subscriptionDao" ref="subscriptionDao" />
    </bean>

    <!--====================-->
    <!-- controllers - wiki -->
    <!--====================-->

    <bean name="/wiki/verifyPassword.html"
        class="csns.spring.controller.wiki.VerifyPasswordController">
        <property name="pageDao" ref="pageDao" />
    </bean>

    <bean name="/wiki/editPage.html"
        class="csns.spring.controller.wiki.EditPageController">
        <property name="commandName" value="revision" />
        <property name="commandClass" value="csns.model.wiki.Revision" />
        <property name="formView" value="wiki/editPage" />
        <property name="validator" ref="messageValidator" />
        <property name="revisionDao" ref="revisionDao" />
        <property name="userDao" ref="userDao" />
        <property name="fileDao" ref="fileDao" />
        <property name="fileBaseDir" value="@file.base.dir@" />
        <property name="filePublic" value="false" />
        <property name="subscriptionDao" ref="subscriptionDao" />
        <property name="massMailSender" ref="massMailSender" />
        <property name="emailTemplate" ref="wikiEditPageNotificationEmailTemplate" />
    </bean>

    <bean name="/wiki/revertPage.html"
        class="csns.spring.controller.wiki.RevertPageController">
        <property name="userDao" ref="userDao" />
        <property name="revisionDao" ref="revisionDao" />
        <property name="subscriptionDao" ref="subscriptionDao" />
        <property name="massMailSender" ref="massMailSender" />
        <property name="emailTemplate" ref="wikiEditPageNotificationEmailTemplate" />
    </bean>

    <bean name="/wiki/movePage.html"
        class="csns.spring.controller.wiki.MovePageController">
        <property name="commandClass" value="csns.model.wiki.Page" />
        <property name="formView" value="wiki/movePage" />
        <property name="userDao" ref="userDao" />
        <property name="pageDao" ref="pageDao" />
        <property name="subscriptionDao" ref="subscriptionDao" />
        <property name="massMailSender" ref="massMailSender" />
        <property name="emailTemplate" ref="wikiMovePageNotificationEmailTemplate" />
    </bean>

    <bean name="/wiki/searchPages.html"
        class="csns.spring.controller.wiki.SearchPagesController">
        <property name="pageDao" ref="pageDao" />
    </bean>

    <bean name="/wiki/viewDiscussions.html"
        class="csns.spring.controller.wiki.ViewDiscussionsController">
        <property name="pageDao" ref="pageDao" />
    </bean>

    <bean name="/wiki/createDiscussion.html"
        class="csns.spring.controller.wiki.CreateDiscussionController">
        <property name="commandName" value="post" />
        <property name="commandClass" value="csns.model.forum.Post" />
        <property name="formView" value="wiki/createDiscussion" />
        <property name="validator" ref="messageValidator" />
        <property name="pageDao" ref="pageDao" />
        <property name="forumDao" ref="forumDao" />
        <property name="topicDao" ref="topicDao" />
        <property name="userDao" ref="userDao" />
        <property name="fileDao" ref="fileDao" />
        <property name="fileBaseDir" value="@file.base.dir@" />
        <property name="filePublic" value="true" />
        <property name="subscriptionDao" ref="subscriptionDao" />
        <property name="massMailSender" ref="massMailSender" />
        <property name="emailTemplate" ref="wikiDiscussionNotificationEmailTemplate" />
    </bean>

    <bean name="/wiki/viewRevisions.html"
        class="csns.spring.controller.wiki.ViewRevisionsController">
        <property name="pageDao" ref="pageDao" />
        <property name="revisionDao" ref="revisionDao" />
    </bean>

    <bean name="/wiki/compareRevisions.html"
        class="csns.spring.controller.wiki.CompareRevisionsController">
        <property name="revisionDao" ref="revisionDao" />
    </bean>

    <!--============================-->
    <!-- controllers - file manager -->
    <!--============================-->

    <bean name="/file/viewFolder.html"
        class="csns.spring.controller.file.ViewFolderController">
        <property name="fileDao" ref="fileDao" />
        <property name="userDao" ref="userDao" />
    </bean>

    <bean name="/file/createFolder.html"
        class="csns.spring.controller.file.CreateFolderController">
        <property name="fileDao" ref="fileDao" />
        <property name="userDao" ref="userDao" />
    </bean>

    <bean name="/file/uploadFile.html"
        class="csns.spring.controller.file.UploadFileController">
        <property name="fileDao" ref="fileDao" />
        <property name="userDao" ref="userDao" />
        <property name="fileBaseDir" value="@file.base.dir@" />
    </bean>

    <bean name="/file/editFile.html"
        class="csns.spring.controller.file.EditFileController">
        <property name="fileDao" ref="fileDao" />
    </bean>

    <bean name="/file/renameFile.html"
        class="csns.spring.controller.file.RenameFileController">
        <property name="fileDao" ref="fileDao" />
    </bean>

    <bean name="/file/replaceFile.html"
        class="csns.spring.controller.file.ReplaceFileController">
        <property name="fileDao" ref="fileDao" />
        <property name="userDao" ref="userDao" />
        <property name="fileBaseDir" value="@file.base.dir@" />
    </bean>

    <bean name="/file/copyFile.html"
        class="csns.spring.controller.file.CopyFileController">
        <property name="fileDao" ref="fileDao" />
        <property name="userDao" ref="userDao" />
        <property name="fileBaseDir" value="@file.base.dir@" />
    </bean>

    <bean name="/file/moveFile.html"
        class="csns.spring.controller.file.MoveFileController">
        <property name="fileDao" ref="fileDao" />
    </bean>

    <bean name="/file/deleteFile.html"
        class="csns.spring.controller.file.DeleteFileController">
        <property name="fileDao" ref="fileDao" />
        <property name="fileBaseDir" value="@file.base.dir@" />
    </bean>

    <bean name="/file/toggleFilePublic.html"
        class="csns.spring.controller.file.ToggleFilePublicController">
        <property name="fileDao" ref="fileDao" />
    </bean>

    <bean name="/file/ckeditorFileUpload.html"
        class="csns.spring.controller.file.CKEditorFileUploadController">
        <property name="fileDao" ref="fileDao" />
        <property name="userDao" ref="userDao" />
        <property name="fileBaseDir" value="@file.base.dir@" />
    </bean>

    <!--=======================-->
    <!-- controllers - logging -->
    <!--=======================-->

    <bean name="/logEvent.html"
        class="csns.spring.controller.LogEventController">
        <property name="loggingEnabled" value="@logging.enabled@" />
        <property name="logEntryDao" ref="logEntryDao" />
    </bean>

    <!--============-->
    <!-- validators -->
    <!--============-->

    <bean id="accountValidator"
        class="csns.spring.validator.AccountValidator">
        <property name="userDao" ref="userDao" />
    </bean>

    <bean id="registrationValidator"
        class="csns.spring.validator.RegistrationValidator">
        <property name="userDao" ref="userDao" />
    </bean>

    <bean id="programValidator" class="csns.spring.validator.ProgramValidator" />

    <bean id="storedQueryValidator" class="csns.spring.validator.StoredQueryValidator">
        <property name="storedQueryDao" ref="storedQueryDao" />
    </bean>

    <bean id="mftScoreReportValidator"
        class="csns.spring.validator.MFTScoreReportValidator" />

    <bean id="questionValidator" class="csns.spring.validator.QuestionValidator" />

    <bean id="surveyValidator" class="csns.spring.validator.SurveyValidator">
        <property name="surveyDao" ref="surveyDao" />
    </bean>

    <bean id="answerSheetValidator"
        class="csns.spring.validator.AnswerSheetValidator" />

    <bean id="resetPasswordValidator"
        class="csns.spring.validator.ResetPasswordValidator" />

    <bean id="assignmentValidator"
        class="csns.spring.validator.AssignmentValidator" />

    <bean id="assignmentTemplateValidator"
        class="csns.spring.validator.AssignmentTemplateValidator" />

    <bean id="messageValidator" class="csns.spring.validator.MessageValidator" />

    <bean id="newsValidator" class="csns.spring.validator.NewsValidator" />

    <bean id="selectEnrollmentSamplesValidator"
        class="csns.spring.validator.SelectEnrollmentSamplesValidator" />

    <!--==============-->
    <!-- interceptors -->
    <!--==============-->

    <bean name="openSessionInViewInterceptor"
        class="org.springframework.orm.hibernate3.support.OpenSessionInViewInterceptor">
        <property name="sessionFactory" ref="sessionFactory" />
    </bean>

    <bean id="logRequestInterceptor"
        class="csns.spring.interceptor.LogRequestInterceptor">
        <property name="loggingEnabled" value="@logging.enabled@" />
        <property name="logEntryDao" ref="logEntryDao" />
    </bean>

    <!--====================-->
    <!-- exception handling -->
    <!--====================-->

    <bean id="exceptionResolver"
        class="csns.spring.handler.ExceptionResolver">
        <property name="exceptionMappings">
            <props>
                <prop key="AccessDeniedException">exception/access</prop>
            </props>
        </property>
        <property name="exceptionAttribute" value="exception" />
        <property name="defaultStatusCode" value="500" />
        <property name="defaultErrorView" value="exception/default" />
    </bean>

    <!--=======-->
    <!-- other -->
    <!--=======-->

    <bean id="multipartResolver"
        class="org.springframework.web.multipart.commons.CommonsMultipartResolver" />

    <bean id="messageSource"
        class="org.springframework.context.support.ResourceBundleMessageSource">
        <property name="basename" value="messages" />
    </bean>

    <bean id="mimeTyper" class="csns.util.MimeTyper">
        <property name="textTypes">
            <value>java,jsp,c,cc,cpp,sql,sqlj,css,hs,lhs,tld,properties</value>
        </property>
    </bean>

</beans>
